# LetsHang #
## Frontend ##
### Summary ###
Let's Hang is a mobile app intended to make it easier for people to find a time and place to get together.

The architecture is n-tier as follows:
- Frontend; A browser based JavaScript app
- Backend;  A RESTful API built with Python
- Firebase; Google's cloud based no-SQL repository

*Note* This is a living document that is being written well after the application was started. The intention is to provide enough documentation to allow developers to refresh their memory of how the app works. Sections will be added as code is touched.

### Frontend Architecture ###
Let's Hang is a Progressive Web App built with the Vue framework and deployed on the Google Cloud Platform. The UX follows Google's Material Design paradigm as implemented by Vuetify. The key building blocks of the development platform then are ...
* Vue: JavaScript application framework
* Vuetify: Framework to implement Material Design
* Vue-Router: Vue component for routing requests to their appropriate pages
* Vuex: Persistent storage for the app
* Vue2-Google-Maps: Component for rendering maps

The Vue framework uses *.vue files which are the components of the system. These files have three sections, template, code, and stylesheet. The template is html that describes the UX. The code is JavaScript (or TypeScript) containing the app logic. We are trying not to use styles in the components.

Also, it should be mentioned that application authentication is handled by the _Auth0_ service.

#### index.html ####
Let's hang is a "single page" Progressive Web App. The Vue framework manages the AJAX nature of the app, including displaying various components without requiring complete page refreshes.

The app is started by serving _index.html_ from the application's root folder. This file was auto-generated by the Vuetify command line. It's primary purpose is to link in the various libraries needed to run the application and to setup a _div_ where the app is rendered. All the Let's Hang magic happens in the simple tag ...

```
<div id="app"></div>
```

#### main.js ####
The main.js file contains the global setting for the Let's Hang app. It is the first code executed at startup. Main.js sets the colors of the UX theme, initializes Google mapping; and instantiates a Vue app object bound to the _div_ in index.html above. There's not much more to it.

#### App.vue ####
The App.vue component sets up the UX layout for the entire application. The App.vue template has three key aspects ...

** Template **
* v-navigation-drawer. This contains the left menu pane for the app. The menu items are contained in the variable _items_ which is set in the _data_ function.
* v-toolbar. This controls the toolbar on the top of the page. **Note**. I am not sure why the navigation drawer is before the toolbar, that seems counter intuitive. The items on the toolbar are coded into the template as v-btn controls. The _authenticated_ variable determines whether to show "sign in" or "sign out".
* v-content. This is where the router will place the app content.
* friendDetail. This is a component that is used to display and edit the user's profile information.
* v-footer. Copyright information at the bottom of the page.

** Code **


#### Auth0 ####
Let's Hang uses the Auth0 service to authenticate users. Auth0 is a third party service. It has it's own dashboard for managing authentication. There are two applications in Auth0 to support Let's Hang, these are lets-hang (for the frontend) and lets-hang-api (for the backend).

When the router calls /home or /friendpage the components call the function _this.auth.handleauthentication()_. Be aware that without this call, users can hack the application. The auth.handleauthentication function is in the AuthService.js file. When a user clicks the "Sign in" link, the application will execute the _auth0.authorize()_ method that is part of the Auth0 package. Auth0 will present a sign-on popup and will redirect authenticated users back to the callback URL. The callback URL is set when initializing the Auth0 object, again in the AuthServive.js script. The callback URL points to the callback.vue component, which in turn calls auth.handleauthentication(). When authorized, the setSession() is executed and then the user is routed to /home.

#### Home.vue ####
Home.vue is a component that shows the default content for the Let's Hang app. The home page is shown when the Events link is clicked, or when the user first signs onto the app.

** Template **
The template in Home.vue uses a _v-if_ tag to dynamically choose content to display. When there are no events to show, the content is a simple static page with a getting started message. Otherwise, the page is rendered with tiles for each event. The tiles are rendered using the _v-card_ tag. Attendees of the events are added to the card using the _v-chip_ tag that contains a _v-for_ attribute iterating over event.invited (the people invited to the event).

** Code **
